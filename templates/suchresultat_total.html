{% extends "base.html" %}
{% block title %}Suchresultat – Price Hunter{% endblock %}
{% block content %}
<h2 class="text-center mb-4">Suchresultat</h2>

<div class="table-responsive results-wrap">
    <table class="table table-striped table-hover align-middle js-theme-table table-sticky">
        <thead class="table-secondary text-dark">
            <tr>
                <th>Produkt</th>
                <!-- 1) Preis linksbündig + 2) Extra Abstand nach rechts -->
                <th class="text-start pe-4">Preis</th>
                <th>Region</th>
                <!-- 3) Link rechtsbündig wie die Buttons -->
                <th class="text-end" style="padding-right: 70px; min-width: 110px;">Link</th>
            </tr>
        </thead>
        <tbody>
            {% for zeile in daten %}
            <tr>
                <td class="text-truncate" style="max-width: 420px;">
                    <a href="{{ zeile.link }}" class="link-body-emphasis text-decoration-none" target="_blank"
                        rel="noopener" title="{{ zeile.produkt }}">
                        {{ zeile.produkt }}
                    </a>
                </td>

                <!-- 1) Preis links + 2) Extra Abstand rechts -->
                <td class="text-start pe-4">{{ zeile.preis | chf }}</td>

                <td>
                    <span class="badge text-bg-secondary">{{ zeile.region }}</span>
                </td>

                <!-- 3) Buttons rechtsbündig -->
                <td class="text-end">
                    {% if zeile.link %}
                    <a href="{{ zeile.link }}" class="btn btn-sm btn-primary" style="min-width:96px;" target="_blank"
                        rel="noopener">
                        Mehr Info
                    </a>
                    {% else %}
                    <span class="text-muted d-inline-block" style="min-width:96px;">—</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% endblock %}